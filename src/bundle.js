!function(e){function t(o){if(a[o])return a[o].exports;var i=a[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";var o=a(1),i=a(2);$(function(){function e(e){this.fadeOut()}function t(e,t){console.log("(toggleArticles) display:",$("#btm-popover-body-"+e).attr("display")),$("#btm-popover-body-"+e+":hidden").length>0?function(e,t){chrome.runtime.sendMessage({source:v,type:"Show Alternatives Click"},function(e){console.log(e)}),t.text("HIDE"),e.fadeIn()}($("#btm-popover-body-"+e),$("#btm-btn-"+e)):function(e,t){t.text("SHOW ALTERNATIVES"),e.fadeOut()}($("#btm-popover-body-"+e),$("#btm-btn-"+e))}function a(e){return""===e[1]?$(".TemplateUtils-column--2kfG7 a, .lede-package-region a, .first-column-region a, .second-column-region a, .opinion-c-col-left-region a, .opinion-c-col-right-region a, .well-region a, .inside-nyt-browser a"):e.length>=3&&"section"===e[1]?$(".story-menu a"):e.length>=3&&"opinion"===e[2]?$(".abColumn a, .bColumn a, .cColumn a"):e.length>=3&&"politics"===e[2]?$(".aColumn a, .bColumn a, .cColumn .videoDetails a, .cColumn .extVidPlayerThumbsContainer a"):$("#nolinks")}function n(e){if(e.length>2)return $(".ob-last a");if(""==e[1])return $("#col a, .rail a, #opinion a");var t,a=e[1];switch(a){case"opinion.html":t=$(".row-1 a, .row-2 .mod-2 a, .row-2 .mod-3 a, .row-3 .mod-4 a, .row-4 a, .row-5 a, .row-6 .mod-7 a");break;case"us.html":t=$(".row-1 a, .row-2 a, .row-3 a, .row-4 .bkt-4 a, .row-5 .bkt-5 a, .row-6 a, .row-7 a, .row-8 a, .row-9 a, .row-10 a");break;case"politics.html":t=$(".mod-1 a, .mod-2 a, .in-house a, .mod-4 a, .video-ct a, .article-ct a, .mod-5 a, .mod-7 a");break;case"world.html":t=$(".row-1 a, .row-2 a, .row-3 .video-ct a, .row-4 .left a, .row-4 .right a, .row-5, .row-6 .right .video-ct a, .row-6 .right .article-ct a, .row-7 .js-infinite-scroll-list a");break;default:t=$("#nolinks")}return t}function r(e){var t=this;w=t.attr("href"),setTimeout(function(){t.is(":hover")&&($('.popover:not([data-slug="'+e+'"])').hide(),setTimeout(function(){t.popover("show");var a=$('.popover[data-slug="'+e+'"]');$(".google-search").on("click",f.bind(a,e)),$(".btm-close").on("click",function(){t.popover("hide")}),$(window).on("click",function(e){a.filter(":hover").length<1&&t.popover("hide")})},500))},900)}function l(e,t){return e.map(function(e){return s(e,t)})}function s(e,t){var a="https://www.googleapis.com/customsearch/v1?q="+t+" &cx=013013877924597244999%3Atbq0ixuctim&dateRestrict=m[7]&siteSearch="+e+i.searcher;return $.ajax({type:"get",url:a,dataType:"json"})}function c(e){e.preventDefault();var t=$(e.target);console.log("(createCollapseEvents) link:",t),(t.hasClass("fa-caret-down")||t.hasClass("fa-caret-up"))&&(t=t.parent());var a=t.data("cache"),o=$("#"+a),i=$("#btm-span-"+a);o.collapse("toggle"),i.hasClass("fa-caret-up")?i.addClass("fa-caret-down").removeClass("fa-caret-up"):i.addClass("fa-caret-up").removeClass("fa-caret-down")}function p(e){e.preventDefault();var t=$(e.target),a=t.attr("href");w=void 0!==w?w:"http://"+h+b,y=new Date,elapsedTime=Math.round((y-k)/6e4),k=new Date,chrome.runtime.sendMessage({targetUrl:a,type:"Outbound Link Click",source:v,originUrl:w,elapsedTime:elapsedTime},function(e){}),window.open(a),$(".popup-link").on("click",p)}function m(e,t,a){a||(a="");var o,n="<div style='margin:10px;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;"+a+"'><ul class='list-unstyled'>";return e.forEach(function(e){e&&e.items[0]?n+="<li style='font-family: Helvetica Neue, Helvetica, Arial, sans-serif;'>"+g(e.queries.request[0].siteSearch,e.items[0],t)+"</li>":(o=i.siteTitles[e.queries.request[0].siteSearch],n+="<li><p style='color: black;font-family: Helvetica Neue, Helvetica, Arial, sans-serif;font-size: 14px;font-style: normal;font-weight: normal;line-height: 1.42857143;text-align: left;text-align: start;'><strong style='font-family: PT Serif;color:black;font-size:12px'>"+o+"</strong></br><span style='font-family: PT Serif;color:black;font-size:12px'>No Results</span></li>")}),n+="<ul></div>"}function g(e,t,a){var o=u(e,t);return d(o.site_title,o.link,o.headline,o.description,o.date,a)}function d(e,t,a,o,i,n){var r=e.replace(/\s/g,""),l=100*Math.random();l=l.toString(),i=i?" | "+i:"| date unavailable";var s=n+"-"+r+"-collapse";return"<p style='color: black;font-family: PT serif, serif;font-size: 12px;font-style: normal;font-weight: normal;line-height: 1.42857143;text-align: left;text-align: start;'><strong style='font-family: PT Serif, serif;'>"+e+i+"</strong></br><a style='font-family: PT Serif, serif;color: black;font-size: 12px;' class='collapse-link' data-toggle='collapse' data-cache='"+s+"' href='javascript:void(0);'>"+a+"<span id='btm-span-"+s+"' class='fa fa-caret-down'></span></a></p><div class='collapse' id='"+n+"-"+r+"-collapse'><div class='well'><h4 style='font-family: PT Serif, serif;color:black;font-size:12px' +><a class='popup-link' href='"+t+"'>Read entire article</a></h4><p style='font-family: PT Serif, serif;color:black;font-size:12px' +>"+o+"</p></div></div>"}function f(e,t){var a=l(i.spectrumSites[h],e);Promise.all(a).then(function(t){$("#btm-btn-"+e).hide();var a=m(t,e);$("#btm-popover-body-"+e).after(a),$(".collapse-link").on("click",c),$(".popup-link").on("click",p),chrome.runtime.sendMessage({source:v,type:"Show Alternatives Click"},function(e){console.log(e)})})}function u(e,t){var a,o,n,r,l=i.siteTitles[e];switch(e){case"foxnews.com":a=t.link,o=t.title,n=t&&t.pagemap&&t.pagemap.metatags&&t.pagemap.metatags[0]["dc.description"]?t.pagemap.metatags[0]["dc.description"]:t.snippet,t&&t.pagemap&&t.pagemap.metatags&&t.pagemap.metatags[0]["dc.date"]&&(r=t.pagemap.metatags[0]["dc.date"],r=new Date(r),r=r.toDateString());break;case"nationalreview.com":a=t.link,o=t&&t.pagemap&&t.pagemap.article&&t.pagemap.article[0].headline?t.pagemap.article[0].headline:t.title,n=t&&t.pagemap&&t.pagemap.article&&t.pagemap.article[0].articlebody?t.pagemap.article[0].articlebody:t.snippet,t&&t.pagemap&&t.pagemap.article&&t.pagemap.article[0].datepublished&&(r=t.pagemap.article[0].datepublished,r=new Date(r),r=r.toDateString());break;case"nypost.com":a=t.link,o=t.title,n=t&&t.pagemap&&t.pagemap.metatags&&t.pagemap.metatags[0]["og:description"]?t.pagemap.metatags[0]["og:description"]:t.snippet,t&&t.pagemap&&t.pagemap.metatags&&t.pagemap.metatags[0]["article:published_time"]&&(r=t.pagemap.metatags[0]["article:published_time"],r=new Date(r),r=r.toDateString());break;case"wsj.com":a=t.link,o=t.title,n=t&&t.pagemap&&t.pagemap.webpage&&t.pagemap.webpage[0].description?t.pagemap.webpage[0].description:t.snippet,t&&t.pagemap&&t.pagemap.webpage&&t.pagemap.webpage[0].datecreated&&(r=t.pagemap.webpage[0].datecreated,r=new Date(r),r=r.toDateString());break;case"thehill.com":case"thefiscaltimes.com":case"forbes.com":case"economist.com":break;case"theatlantic.com":a=t.link,o=t.title,n=t&&t.pagemap&&t.pagemap.newsarticle&&t.pagemap.newsarticle[0].description?t.pagemap.newsarticle[0].description:t.snippet,t&&t.pagemap&&t.pagemap.newsarticle&&t.pagemap.newsarticle[0].datepublished&&(r=t.pagemap.newsarticle[0].datepublished,r=new Date(r),r=r.toDateString());break;case"vice.com":case"slate.com":a=t.link,o=t.title,n=t&&t.pagemap&&t.pagemap.metatags&&t.pagemap.metatags[0]["og:description"]?t.pagemap.metatags[0]["og:description"]:t.snippet}return{site_title:l,link:a,headline:o,description:n,date:r}}var h=window.location.hostname.split("www.")[1],b=window.location.pathname,v=void 0!==i.siteTitles[h]?i.siteTitles[h]:h,w=void 0,y=void 0,k=new Date;!function(){var a=b.split("/"),n=void 0,r=void 0,s=void 0,g=void 0;if(a.length>5){switch(h){case"foxnews.com":console.log("(init page news hover) pathname:",a),s=a[a.length-1].replace(".html",""),console.log("(init page hover (switch)) slug:",s),g="left";break;case"nytimes.com":s=a[a.length-1].replace(".html",""),g="right";break;default:g="right"}r='<button id="btm-btn-'+s+'" style="'+o.btnPrimaryStyle+'" class="google-search btn btn-primary" href="javascript:void(0);" data-slug="'+s+'">SHOW ALTERNATIVES</button>',n='<div data-slug="'+s+'" style="'+o.popoverStyle+";position:fixed;"+g+':50px;bottom:10px;"><h3 style="'+o.popoverTitleStyle+'">BRIDGE THE MEDIA</h3><div id="btm-hover-'+s+"\"><div style='max-height:450px;overflow:scroll;'id='btm-popover-body-"+s+"'></div>"+r+"</div></div>"}$("body").append($(n));var d=l(i.spectrumSites[h],s);Promise.all(d).then(function(t){console.log("(init page hover) search results:",t);var a=m(t,s);console.log("(btmHover) popup:",a),$("#btm-popover-body-"+s).css("display","none"),$("#btm-popover-body-"+s).append(a),$(".collapse-link").on("click",c),$(".popup-link").on("click",p),$(".btm-close").on("click",e.bind($("#btm-hover-"+s)))}),$(".google-search").on("click",t.bind($(n),s))}(),function(){var e=void 0,t=b.split("/");switch(h){case"nytimes.com":e=a(b.split("/")),console.log("(initAnchor) pathnameArr:",t);break;case"foxnews.com":e=n(t);break;default:e=$("a")}return console.log("(init before return) a links:",e),e}().each(function(e,t){var a=$(t),n=a.attr("href");if(n){var l=(0,i.getSlug)(n,h),s=(0,o.getPopoverHtml)(l),c='<button id="btm-btn-'+l+'" style="'+o.btnPrimaryStyle+'" class="google-search btn btn-primary" href="javascript:void(0);" data-slug="'+l+'">SHOW ALTERNATIVES</button><div id="btm-popover-body-'+l+'"></div>';a.popover({trigger:"manual",html:"true",template:s,title:"<span style='color: black;font-family: Josefin Sans, serif;font-size: 16px;font-style: normal;font-weight: bolder;line-height: 1.42857143;text-align: left;text-align: start;'>BRIDGE THE MEDIA<span class='btm-close btm-pull-right'>&times;</span></span>",placement:"right",content:c}).on("mouseenter",r.bind(a,l))}})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.popoverStyle="width: 250px;max-width: 276px;color: black;padding: 1px;font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 14px;font-style: normal;font-weight: normal;line-height: 1.42857143;text-align: left;text-align: start;text-decoration: none;text-shadow: none;text-transform: none;letter-spacing: normal;word-break: normal;word-spacing: normal;word-wrap: normal;white-space: normal;background-color: #fff;-webkit-background-clip: padding-box;background-clip: padding-box;border: 1px solid #ccc;border: 1px solid rgba(0, 0, 0, .2);border-radius: 6px;-webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, .2);box-shadow: 0 5px 10px rgba(0, 0, 0, .2);line-break: auto;z-index: 25",i=t.popoverTitleStyle="color: black;font-family: Josefin Sans, serif;font-size: 16px;font-style: normal;font-weight: bolder;line-height: 1.42857143;text-align: left;text-align: start;padding: 8px 14px;margin: 0;background-color: #f7f7f7;border-bottom: 1px solid #ebebeb;border-radius: 5px 5px 0 0;";t.btnPrimaryStyle="color: #4665B0;background-color: #FECC08;font-size:14pxfont-family: PT Serif, serifborder-color: black;margin: 10px",t.getPopoverHtml=function(e){return'<div data-slug="'+e+'" class="popover" role="tooltip" style="'+o+'"><div class="arrow"></div><h3 style="'+i+'" class="popover-title"><span>&times;</span></h3><div data-slug="'+e+'" class="popover-content"></div></div>'}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(t.getSlug=function(e,t){var a=e.split("/"),o="";switch(t){case"nytimes.com":o=a[a.length-1].replace(/\d+/g,"").split(".",1)[0];break;case"cnn.com":"index.html"===a[a.length-1]&&(o=a[a.length-2].split(".",1)[0]);break;case"foxnews.com":o=a[a.length-1].replace(/\d+/g,"").split(".",1)[0]}return o},"CRQkZe76Sgs3SBySazIA");t.searcher="&key="+o.split("").reverse().join().replace(/,/g,"")+"_A7LZZG82AFeyBt8FW8",t.spectrumSites={"nytimes.com":["foxnews.com","nationalreview.com","wsj.com","nypost.com"],"cnn.com":["thehill.com","thefiscaltimes.com","forbes.com","economist.com"],"foxnews.com":["theatlantic.com","vice.com","slate.com"],"politico.com":["nypost.com","foxnews.com","washingtontimes.com"],"vox.com":["nypost.com","foxnews.com","washingtontimes.com"],"nbcnews.com":["nypost.com","foxnews.com","washingtontimes.com"]},t.siteTitles={"foxnews.com":"Fox News","nationalreview.com":"National Review","wsj.com":"Wall Street Journal","nypost.com":"New York Post","thehill.com":"The Hill","thefiscaltimes.com":"The Fiscal Times","forbes.com":"Forbes","economist.com":"The Economist","theatlantic.com":"The Atlantic","vice.com":"Vice","slate.com":"Slate","huffingtonpost.com":"Huffington Post","thedailybeast.com":"Daily Beast","reason.com":"Reason","telegraph.co.uk":"The Telegraph","nytimes.com":"NY Times"}}]);